#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "\033[0;34mπ”„Prisma μ¤ν‚¤λ§λ¥Ό μ—…λ°μ΄νΈ μ¤‘...\033[0m"
pnpm gen:prisma
if [ $? -ne 0 ]; then
  echo "\n\033[0;31mβPrisma μ¤ν‚¤λ§ μ—…λ°μ΄νΈ μ¤‘ μ¤λ¥κ°€ λ°μƒν–μµλ‹λ‹¤. Prisma μ¤ν‚¤λ§λ¥Ό ν™•μΈν•΄μ£Όμ„Έμ”.\033[0m\n"
  exit 1
fi
echo "\n\033[0;32mβ…Prisma μ¤ν‚¤λ§ μ—…λ°μ΄νΈ μ™„λ£\033[0m\n"

echo "\033[0;34mπ”νƒ€μ… μ²΄ν¬ μ¤‘...\033[0m"
pnpm type-check
if [ $? -ne 0 ]; then
  echo "\n\033[0;31mβνƒ€μ… μ—λ¬κ°€ λ°μƒν–μµλ‹λ‹¤. νƒ€μ… μ—λ¬λ¥Ό ν•΄κ²°ν•΄μ£Όμ„Έμ”.\033[0m\n"
  exit 1
fi
echo "\n\033[0;32mβ… νƒ€μ… μ²΄ν¬ μ™„λ£\033[0m\n"